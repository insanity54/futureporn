[Install]
WantedBy=multi-user.target

[Unit]
Description=Futureporn Scout
After=network.target

[Service]
ExecStart=/usr/bin/env node /root/futureporn/scout/index.js
WorkingDirectory=/root/futureporn/scout
Restart=always
RestartSec=5
Environment=PATH=/usr/bin:/usr/local/bin
Environment=NODE_ENV=production
Environment=DEBUG="futureporn/*"
Environment=TWITTER_API_KEY={{ lookup('env', 'TWITTER_API_KEY') }}
Environment=TWITTER_API_KEY_SECRET={{ lookup('env', 'TWITTER_API_KEY_SECRET') }}
Environment=TWITTER_ACCESS_TOKEN={{ lookup('env', 'TWITTER_ACCESS_TOKEN') }}
Environment=TWITTER_ACCESS_TOKEN_SECRET={{ lookup('env', 'TWITTER_ACCESS_TOKEN_SECRET') }}
Environment=IPFS_CLUSTER_HTTP_API_USERNAME={{ lookup('env', 'IPFS_CLUSTER_HTTP_API_USERNAME') }}
Environment=IPFS_CLUSTER_HTTP_API_PASSWORD={{ lookup('env', 'IPFS_CLUSTER_HTTP_API_PASSWORD') }}
Environment=IPFS_CLUSTER_HTTP_API_MULTIADDR={{ lookup('env', 'IPFS_CLUSTER_HTTP_API_MULTIADDR') }}
Environment=AEDES_HOST={{ lookup('env', 'AEDES_HOST') }}
Environment=AEDES_USERNAME={{ lookup('env', 'AEDES_USERNAME') }}
Environment=AEDES_PASSWORD={{ lookup('env', 'AEDES_PASSWORD') }}
Environment=FUTUREPORN_WORKDIR={{ lookup('env', 'FUTUREPORN_WORKDIR' )}}

Type=simple
